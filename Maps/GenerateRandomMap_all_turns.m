function empty_map = GenerateRandomMap_all_turns
global startTile pstartTile;
global ghostNumber;
global deadline; deadline = 60*3600;
dot_percentage = 0.7;

empty_map = [ ...
        '____________________________' ...
        '____________________________' ...
        '____________________________' ...
        '____________________________' ...
        '_||||||||||||_______________' ...
        '_|..........|_______________' ...
        '_||||||||||.|_______________' ...
        '__________|.|_______________' ...
        '__________|.|_______________' ...
        '__________|.|_______________' ...
        '__________|.|||||||||||||||_' ...
        '__________|...............|_' ...
        '__________|||||||||||||||.|_' ...
        '________________________|.|_' ...
        '_||||||||||||||||_______|.|_' ...
        '_|..............|_______|.|_' ...
        '_|.||||||||||||.|_______|.|_' ...
        '_|.|__________|.|_______|.|_' ...
        '_|.|__________|.|_______|.|_' ...
        '_|.|__________|.|||||||||.|_' ...
        '_|.|__________|...........|_' ...
        '_|.|__________|||||||||||||_' ...
        '_|.|________________________' ...
        '_|.|________________________' ...
        '_|.|________|||||||||||||||_' ...
        '_|.|________|.............|_' ...
        '_|.|________|.|||||||||||||_' ...
        '_|.|________|.|_____________' ...
        '_|.||||||||||.|_____________' ...
        '_|............|_____________' ...
        '_||||||||||||||_____________' ...
        '____________________________' ...
        '____________________________' ...
        '____________________________' ...
        '____________________________' ...
        '____________________________'];
    
pac_rand = rand;
if pac_rand < 0.5
    pstartTile = struct('x',3,'y',6);
else
    pstartTile = struct('x',26,'y',26);
end
    
startTile(:,1:2) = [14 15;18 19];
ghostNumber = 0;

dots_pos = find(empty_map=='.');
no_dots_idx = randperm(length(dots_pos),floor(length(dots_pos)*(1-dot_percentage)));
no_dots_pos = dots_pos(no_dots_idx);
for i = 1:length(no_dots_pos)
    empty_map(no_dots_pos(i)) = ' ';
end

end